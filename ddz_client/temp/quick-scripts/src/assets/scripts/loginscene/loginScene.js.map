{"version":3,"sources":["assets/scripts/loginscene/loginScene.js"],"names":["cc","Class","Component","properties","wait_node","Node","onLoad","isopen_sound","audioEngine","play","url","raw","myglobal","socket","initSocket","start","onButtonCilck","event","customData","console","log","api","login","data","director","loadScene","bind"],"mappings":";;;;;;AAAA;;;;AACAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACTC,IAAAA,SAAS,EAACJ,EAAE,CAACK;AADJ,GAHP;AAOL;AAEAC,EAAAA,MATK,oBASK;AACN;AACA,QAAGC,YAAH,EAAgB;AACZP,MAAAA,EAAE,CAACQ,WAAH,CAAeC,IAAf,CAAoBT,EAAE,CAACU,GAAH,CAAOC,GAAP,CAAW,8BAAX,CAApB,EAA+D,IAA/D;AACF;;AAEDC,yBAASC,MAAT,CAAgBC,UAAhB;AACJ,GAhBI;AAkBLC,EAAAA,KAlBK,mBAkBI,CACR,CAnBI;AAuBLC,EAAAA,aAvBK,yBAuBSC,KAvBT,EAuBeC,UAvBf,EAuB0B;AAC3B,YAAOA,UAAP;AACI,WAAK,UAAL;AACIC,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EADJ,CAGI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AACAR,6BAASS,GAAT,CAAaC,KAAb,CAAmB,UAASC,IAAT,EAAc;AAChCvB,UAAAA,EAAE,CAACwB,QAAH,CAAYC,SAAZ,CAAsB,WAAtB;AACA,SAFkB,CAEjBC,IAFiB,CAEZ,IAFY,CAAnB;;AAGY;AACZ;AACA;AAEA;;AACQ;AACH;AAEO;AAtCR;AAwCH,GAhEI,CAiEL;;AAjEK,CAAT","sourceRoot":"/","sourcesContent":["import myglobal from \"../mygolbal.js\"\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n       wait_node:cc.Node,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        //console.log(\"qian_state.qian:\"+ qian_state.qian)\n        if(isopen_sound){\n            cc.audioEngine.play(cc.url.raw(\"resources/sound/login_bg.ogg\"),true) \n         }\n           \n         myglobal.socket.initSocket()\n    },\n    \n    start () {\n    },\n\t\n\t\n    \n    onButtonCilck(event,customData){\n        switch(customData){\n            case \"wx_login\":\n                console.log(\"wx_login request\")\n                \n                //this.wait_node.active = true\n    //             if(localStorage.getItem(\"accountID\")!=null){\n\t\t\t\t// \tmyglobal.playerData.accountID=localStorage.getItem(\"accountID\");\n\t\t\t\t// }\n\t\t\t\t// localStorage.setItem(\"accountID\",myglobal.playerData.accountID);\n    //             myglobal.socket.request_wxLogin({\n    //                 uniqueID:myglobal.playerData.uniqueID,\n    //                 accountID:myglobal.playerData.accountID,\n    //                 nickName:myglobal.playerData.nickName,\n    //                 avatarUrl:myglobal.playerData.avatarUrl,\n    //             },function(err,result){\n    //                 //请求返回\n    //                 //先隐藏等待UI\n    //                 //this.wait_node.active = false\n    //                 if(err!=0){\n    //                    console.log(\"err:\"+err)\n    //                    return     \n    //                 }\n\n    //                 console.log(\"login sucess\" + JSON.stringify(result))\n    //                 myglobal.playerData.gobal_count = result.goldcount\n    //                 cc.director.loadScene(\"hallScene\")\n    //             }.bind(this))\n\t\t\t\tmyglobal.api.login(function(data){\n\t\t\t\t\tcc.director.loadScene(\"hallScene\")\n\t\t\t\t}.bind(this));\n                break\n\t\t\t\t// case \"guest_btn\":\n\t\t\t\t// cc.director.loadScene(\"hallScene\")\n\t\t\t\t\n\t\t\t\t// break;\n            default:\n\t\t\t      // cc.director.loadScene(\"hallScene\")\n\t\t\t\n                break\n        }\n    }\n    // update (dt) {},\n\n\n});\n"]}